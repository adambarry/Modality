<!DOCTYPE html>
<html dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Modality Test Page</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--[if IE)><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif[-->
        <link rel="stylesheet" href="modality.css">
        <link rel="stylesheet" href="test.css" />
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css" />

        <style type="text/css">
            /*
                apply a natural box layout model to all elements
                Source: http://www.paulirish.com/2012/box-sizing-border-box-ftw/
            */

            *,
            *:before,
            *:after {
                -moz-box-sizing: border-box;
                -webkit-box-sizing: border-box;
                box-sizing: border-box;
             }
        </style>
        <!-- SyntaxHighlighter -->
        <link type="text/css" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shThemeDefault.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shAutoloader.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCss.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushXml.min.js"></script>
        <script type="text/javascript" src="modality.js"></script>
    </head>
    <body>

        <article class="test test--constrain-width">


        </article>

        <article class="test test--constrain-width test--show-classes- test--grids">

            <h1>Modality (Comprehensive Modal Window Component)</h1>

            <p>Modality makes it easy to use modal-windows in your HTML5 project. It's framework independent; versatile; and hopefully you'll find it easy to work with. Features include:</p>
            <ul>
                <li>Self-closing (timed) modals, e.g. for notification use - countdown timer included.</li>
                <li>Built-in, fully functional replacement for native HTML prompt() and confirm().</li>
                <li>Updatable modals so that you can update the content of the individual modal windows.</li>
                <li>Auto-placement, also when resizing the viewport or scrolling (although page-scrolling is disabled for desktops when the modal overlay is visible).</li>
            </ul>

            <p>The modal is built using a <a href="http://coding.smashingmagazine.com/2012/04/16/a-new-front-end-methodology-bem/" target="_blank">BEM</a> CSS model, resulting in the following fundamental component HTML:</p>
            <script type="syntaxhighlighter" class="brush: html"><![CDATA[

                <!-- Code Example: -->
                <div class="Modality">
                    <div class="Modality-container">

                        <div class="Modality-window Modality-window--modifier">
                            <button class="Modality-close"></button>

                            <div class="Modality-content">
                                <!-- Content goes here -->
                            </div>
                        </div>
                    </div>
                </div>

            ]]></script>

            <p>The <code>.modality</code> wrapper can contain multiple <code>.Modality-window</code> elements and will only display the top element in the stack, i.e. the <em>last</em> <code>.Modality-window</code> inside the <code>.Modality-container</code> element.</p>


            <div class="test-section">

                <h2>Appearance</h2>

                <p>The appearance of the modal is (of course) styled completely using CSS, so you can easily change it to fit your specific project, but the positioning of the individual Modality-windows is done using JavaScript.</p>

                <div class="test-callout test-callout--danger">
                    <h4><code>.Modality</code> wrapper element excluded</h4>
                    <p>In the below example, the <code>.modal</code> wrapper element has been disabled to prevent the remainder of the Modality-test-examples on this page from adding themselves to the wrapper-element.</p>
                </div>

                <div class="test-callout test-callout--warning">
                    <h4>Position-property changed in test-example</h4>
                    <p>In order to get the below test-example to display the modal correctly, <code>style="position: relative;"</code> has been added to the <code>.Modality-container</code> element which is otherwise absolutely positioned.</p>
                </div>

                <div class="test-callout test-callout--warning">
                    <h4>Display-property changed in test-example</h4>
                    <p>In order to get the below test-example to display the modal correctly, <code>style="display: block;"</code> has been added to the <code>.Modality-container</code> element which is otherwise absolutely positioned.</p>
                </div>

                <div class="test-example">
                    <!-- <div class="Modality" style="position: relative;"> -->
                        <div class="Modality-container" style="position: relative; display: block;">
                            <div class="Modality-window">
                                <button type="button" class="Modality-close"><span>Close <span class="hotkey">(esc)</span></span></button>

                                <div class="Modality-content">
                                    <h2>Modal Content</h2>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus. Nulla augue nisl, fermentum quis hendrerit sed, fermentum at mauris. Cras sodales risus vel nisi pellentesque rhoncus. Praesent vulputate dolor nisi, id pharetra nisi varius eu. Fusce non auctor dui. Quisque a ullamcorper nisi. Integer laoreet velit et suscipit luctus.</p><button type="button" class="btn btn--secondary">close</button>
                                </div>
                            </div>
                        </div>
                    <!-- </div> -->
                </div>

            </div>

            <div class="test-section">

                <h2>Normal</h2>

                <h3 class="test-title">Plain</h3>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content'
                        });

                    ]]></script>
                </div>

                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({content: '<h2>Alert</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus. Nulla augue nisl, fermentum quis hendrerit sed, fermentum at mauris. Cras sodales risus vel nisi pellentesque rhoncus. Praesent vulputate dolor nisi, id pharetra nisi varius eu. Fusce non auctor dui. Quisque a ullamcorper nisi. Integer laoreet velit et suscipit luctus.</p>'})">Basic modal (no bells or whistles - or modifier-classnames)</button>
                </div>

                <h3 class="test-title">With modifier-classname for Modality-window</h3>

                <div class="test-callout test-callout--info">
                    <h4>Modifier class <code>Modality-window--alert</code> added to remainder of test cases</h4>
                    <p>In order to display modals realistically, i.e. displaying a modal that doesn't fill the entire width of the screen, the remainder of the test-examples all contain a Modality-window modifier-class.</p>
                </div>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content',
                            className: 'Modality-window--alert'
                        });

                    ]]></script>
                </div>

                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', content: '<h2>Alert</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus. Nulla augue nisl, fermentum quis hendrerit sed, fermentum at mauris. Cras sodales risus vel nisi pellentesque rhoncus. Praesent vulputate dolor nisi, id pharetra nisi varius eu. Fusce non auctor dui. Quisque a ullamcorper nisi. Integer laoreet velit et suscipit luctus.</p>'})">Simple modal (equivalent to alert)</button>
                </div>

                <h3 class="test-title">Vertically centered</h3>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content',
                            className: 'Modality-window--alert',
                            verticalCenter: true
                        });

                    ]]></script>
                </div>

                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', buttonCancelText: 'close', verticalCenter: true, content: '<h2>Alert</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus. Nulla augue nisl, fermentum quis hendrerit sed, fermentum at mauris. Cras sodales risus vel nisi pellentesque rhoncus. Praesent vulputate dolor nisi, id pharetra nisi varius eu. Fusce non auctor dui. Quisque a ullamcorper nisi. Integer laoreet velit et suscipit luctus.</p>'})">Modal (vertically centered)</button>
                </div>


                <h3 class="test-title">Buttonless modal</h3>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content',
                            className: 'Modality-window--alert',
                            buttons: false
                        });

                    ]]></script>
                </div>

                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', buttons: false, content: '<h2>Alert</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus. Nulla augue nisl, fermentum quis hendrerit sed, fermentum at mauris. Cras sodales risus vel nisi pellentesque rhoncus. Praesent vulputate dolor nisi, id pharetra nisi varius eu. Fusce non auctor dui. Quisque a ullamcorper nisi. Integer laoreet velit et suscipit luctus.</p>'})">Buttonless modal</button>
                </div>

                <h3 class="test-title">Self-closing</h3>
                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content',
                            className: 'Modality-window--alert',
                            time: 5000
                        });

                    ]]></script>
                </div>

                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', time: 5000, buttonCancelText: 'close', content: '<h2>Notification</h2><p>This message will self-destruct.</p>'})">Self-closing modal (auto-closing)</button>
                </div>

                <h3 class="test-title">Self-closing, buttonless modal</h3>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            className: 'Modality-window--alert',
                            buttons: false,
                            time: 2500,
                            content: 'modal HTML content'
                        });

                    ]]></script>
                </div>

                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', buttons: false, time: 2500, content: '<h2>Notification</h2><p>This message will self-destruct in 2,5 seconds.</p>'})">Self-closing, buttonless modal</button>
                </div>


            </div>

            <div class="test-section">

                <h2>Modals with callbacks</h2>
                <h3 class="test-title">Native HTML confirm() replacements</h3>
                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content',
                            className: 'Modality-window--alert',
                            type: 'confirm',
                            callback: function () {
                                alert('confirmed');
                            }
                        });

                    ]]></script>
                </div>
                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', type: 'confirm', callback: function () { alert('confirmed'); }, content: '<h2>Confirm</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus.</p>'})">Confirm modal</button>
                </div>


                <h3 class="test-title">Native HTML prompt() replacements</h3>
                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            content: 'modal HTML content',
                            className: 'Modality-window--alert',
                            type: 'prompt',
                            inputFieldType: 'email',
                            inputFieldClass: 'formcontrol-input',
                            inputFieldPlaceholder: 'email@domain.tld',
                            inputFieldValue: 'prefilled@domain.tld',
                            callback: function (data) {
                                console.log('data', data);
                                alert('From prompt: ' + data.value);
                            },
                            buttonConfirmText: 'submit',
                            buttonCancelText: 'close'
                        });

                    ]]></script>
                </div>
                <div class="test-example">
                    <button type="button" class="btn btn--primary" onclick="javascript: new Modality({className: 'Modality-window--alert', type: 'prompt', inputFieldType: 'email', inputFieldClass: 'formcontrol-input', inputFieldPlaceholder: 'email@domain.tld', inputFieldValue: 'prefilled@domain.tld', callback: function (data) { console.log('data', data); alert('From prompt: ' + data.value);}, buttonConfirmText: 'submit', buttonCancelText: 'close', content: '<h2>Prompt</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In vitae ipsum sit amet nulla bibendum rhoncus.</p>'})">Prompt modal</button>
                </div>


            </div>

            <div class="test-section">

                <h2>Modal with onReady callback</h2>
                <div class="test-callout test-callout--info">
                    <h4>JavaScript onReady-functions as part of 'test-example'</h4>
                    <p>The JavaScript function(s) that are initiated by the onReady-callback function are inlined as part of the 'test-example' element.</p>
                </div>

                <div class="test-callout test-callout--danger">
                    <h4>Scroll on <code>autofocus="autofocus"</code></h4>
                    <p>If the HTML content your filling into the modal contains a form element with <code>autofocus="autofocus"</code> it will most likely make the page scroll when loading the modal.</p>
                    <p>Instead use the <code>formFieldFocus: true</code> property (enabled by default), which will set focus to the first non-hidden form-field in the modal window.</p>
                </div>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        new Modality({
                            className: 'Modality-window--alert',
                            buttons: false,
                            content: '&lt;h2>Form<&lt;h2>&lt;form>&lt;fieldset class="Modality-fieldset">&lt;label class="formcontrol">&lt;p class="formcontrol-label">Email&lt;/p>&lt;input class="formcontrol-input" type="email" placeholder="email@domain.tld" required="required"/>&lt;/label>&lt;label class="formcontrol">&lt;p class="formcontrol-label">Password&lt;/p>&lt;input class="formcontrol-input" type="password" required="required"/>&lt;/label>&lt;/fieldset>&lt;button type="submit" class="btn btn--primary js-submit">Sign in&lt;/button>&lt;button type="button" class="btn btn--secondary js-close">close&lt;/button>&lt;/form>',
                            onReady: function (data) {
                                formInit(data);
                            }
                        });

                        var theFormModal;

                        function formInit(modal) {
                            console.log("theFormModal", modal);

                            var modalWindow = modal.element,
                                i,
                                buttons = modalWindow.getElementsByTagName("button"),
                                btnSubmit,
                                btnClose,
                                elements = modalWindow.getElementsByTagName("*");

                            for (i = 0; i < buttons.length; i += 1) {
                                if (buttons[i].className.indexOf("js-submit") > -1) {
                                    btnSubmit = buttons[i];
                                }

                                if (buttons[i].className.indexOf("js-close") > -1) {
                                    btnClose = buttons[i];
                                }
                            }

                            //Make the close button work with the modal
                            btnClose.onclick = modal.abort;
                        }

                        var formModal = function () {
                            theFormModal = new Modality({
                                className: 'Modality-window--alert',
                                buttons: false,
                                content: '<h2>Form</h2><form><fieldset class="Modality-fieldset"><label class="formcontrol"><p class="formcontrol-label">Email</p><input class="formcontrol-input" type="email" placeholder="email@domain.tld" required="required"/></label><label class="formcontrol"><p class="formcontrol-label">Password</p><input class="formcontrol-input" type="password" required="required"/></label></fieldset><button type="submit" class="btn btn--primary js-submit">Sign in</button><button type="button" class="btn btn--secondary js-close">close</button></form>',
                                onReady: function (data) {
                                    formInit(data);
                                }
                            });
                        };

                    ]]></script>
                </div>

                <div class="test-example">

                    <script type="text/javascript">
                        "use strict";

                        var theFormModal;

                        function formInit(modal) {
                            console.log("theFormModal", modal);

                            var modalWindow = modal.element,
                                i,
                                buttons = modalWindow.getElementsByTagName("button"),
                                btnSubmit,
                                btnClose,
                                elements = modalWindow.getElementsByTagName("*");

                            for (i = 0; i < buttons.length; i += 1) {
                                if (buttons[i].className.indexOf("js-submit") > -1) {
                                    btnSubmit = buttons[i];
                                }

                                if (buttons[i].className.indexOf("js-close") > -1) {
                                    btnClose = buttons[i];
                                }
                            }

                            //Make the close button work with the modal
                            btnClose.onclick = modal.abort;
                        }

                        var formModal = function () {
                            theFormModal = new Modality({
                                className: 'Modality-window--alert',
                                buttons: false,
                                content: '<h2>Form</h2><form><fieldset class="Modality-fieldset"><label class="formcontrol"><p class="formcontrol-label">Email</p><input class="formcontrol-input" type="email" placeholder="email@domain.tld" required="required"/></label><label class="formcontrol"><p class="formcontrol-label">Password</p><input class="formcontrol-input" type="password" required="required"/></label></fieldset><button type="submit" class="btn btn--primary js-submit">Sign in</button><button type="button" class="btn btn--secondary js-close">close</button></form>',
                                onReady: function (data) {
                                    formInit(data);
                                }
                            });
                        };
                    </script>
                    <button type="button" class="btn btn--primary" onclick="javascript: formModal();">Modal with custom HTML form content (and onReady-function to initialize the form)</button>
                </div>


            </div>

            <div class="test-section">
                <h2>Updated modal</h2>
                <p>So why be able to update modals in the first place? Well, sometimes you might want to show the modal with an AJAX-loader while for instance AJAX-requesting the content.</p>

                <div class="test-callout test-callout--info">
                    <h4>TODO: Updates on confirm</h4>
                    <p>The below example launches a (confirm) modal, which is subsequently updated upon confirm.</p>
                </div>

                <div class="test-callout test-callout--interface">
                    <script type="syntaxhighlighter" class="brush: js"><![CDATA[

                        var requestAndShow,
                            requestAndShowModal;

                        requestAndShow = function () {
                            requestAndShowModal = new Modality({
                                className: "Modality-window--alert",
                                content: "<p style='text-align: center'><img src='data:image/gif;base64,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' alt=''/></p>",
                                buttons: false
                            });

                            //fake the AJAX-request
                            window.setTimeout(function () {
                                requestAndShowModal.update('<h2>Updated modality</h2><p>The modal has just been updated with new content</p>', {
                                    buttons: true,
                                    type: 'confirm',
                                    callback: function () {
                                        alert("confirmed the updated modality");
                                    }
                                });
                            }, 2000);
                        };

                        //Execute the function - equivalent of button onclick
                        requestAndShow();

                    ]]></script>
                </div>

                <div class="test-example">
                    <script type="text/javascript">
                        var requestAndShow,
                            requestAndShowModal;

                        requestAndShow = function () {
                            requestAndShowModal = new Modality({
                                className: "Modality-window--alert",
                                content: "<p style='text-align: center'><img src='data:image/gif;base64,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' alt=''/></p>",
                                buttons: false
                            });

                            //fake the AJAX-request
                            window.setTimeout(function () {
                                requestAndShowModal.update('<h2>Updated modality</h2><p>The modal has just been updated with new content</p>', {
                                    buttons: true,
                                    type: 'confirm',
                                    callback: function () {
                                        alert("confirmed the updated modality");
                                    }
                                });
                            }, 2000);
                        };

                    </script>

                    <button type="button" class="btn btn--primary" onclick="javascript: requestAndShow();">Modal with AJAX-loader (request time faked)</button>
                </div>
            </div>

        </article>


        <script type="text/javascript">
            if (SyntaxHighlighter) {
                SyntaxHighlighter.all();
            }
        </script>
        <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
    </body>
</html>
